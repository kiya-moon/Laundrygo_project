# âœ¨ëª©ì°¨
1. [ì†Œê°œ](#laundrygo-project)
2. [ì œì‘ê¸°ê°„ ë° ì°¸ì—¬ì¸ì›](#ì œì‘ê¸°ê°„-ë°-ì°¸ì—¬ì¸ì›)
3. [ì‚¬ìš©ê¸°ìˆ ](#ì‚¬ìš©ê¸°ìˆ )
4. [ê°œë°œí™˜ê²½](#ê°œë°œí™˜ê²½)
5. [ì„¤ê³„](#ì„¤ê³„)
6. [í™”ë©´êµ¬ì„± ë° ê¸°ëŠ¥](#í™”ë©´êµ¬ì„±-ë°-ê¸°ëŠ¥)
7. [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)

<br><br>

# ğŸ‘•Laundrygo Project
### 'ìš°ë¦¬ì§‘ ëª¨ë°”ì¼ ì„¸íƒì†Œ, ëŸ°ë“œë¦¬ê³ 'ì˜ ì›¹ì‚¬ì´íŠ¸ ë²„ì „
Spring MVC, MyBatisë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì œì‘í•œ ì„¸íƒ ì„œë¹„ìŠ¤ ì›¹ì‚¬ì´íŠ¸<br>
ì–´í”Œ ì‚¬ìš©ì´ ì–´ë ¤ìš¸ ë•Œ, ì›¹ì‚¬ì´íŠ¸ë¡œë„ ì´ìš©ê°€ëŠ¥ í•˜ë„ë¡ í•˜ì—¬ ì‚¬ìš©ìì˜ ë¶ˆí¸í•¨ì„ í•´ì†Œí•˜ëŠ” í”„ë¡œì íŠ¸<br>

<br>

[ëª©ì°¨ğŸ”º](#ëª©ì°¨)

<br><br>

# ğŸ‘•ì œì‘ê¸°ê°„ ë° ì°¸ì—¬ì¸ì›
### FrontEnd
2022-08-07 ~ 2022-08-21
### BackEnd
2022-09-18 ~ 2022-10-04
### ì°¸ì—¬ì¸ì›
íŒ€ í”„ë¡œì íŠ¸ (ì´ 4ëª…)<br>

<br>

[ëª©ì°¨ğŸ”º](#ëª©ì°¨)

<br><br>

# ğŸ‘•ì‚¬ìš©ê¸°ìˆ 
### FrontEnd
<img src="https://img.shields.io/badge/HTML5-black?style=for-the-badge&logo=HTML5&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/CSS3-black?style=for-the-badge&logo=CSS#&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/JavaScript-black?style=for-the-badge&logo=JavaScript&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/JQuery-black?style=for-the-badge&logo=JQuery&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/Ajax-black?style=for-the-badge&logo=Ajax&logoColor=white">
<br>

### BackEnd
<img src="https://img.shields.io/badge/Java11-black?style=for-the-badge&logo=Java11&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/Spring MVC-black?style=for-the-badge&logo=Spring&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/ApacheTomcat 9.0-black?style=for-the-badge&logo=Apache Tomcat&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/JSTL-black?style=for-the-badge&logo=JSTL&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/MyBatis-black?style=for-the-badge&logo=MyBatis&logoColor=white"><br>

<br>

[ëª©ì°¨ğŸ”º](#ëª©ì°¨)

<br><br>

# ğŸ‘•ê°œë°œí™˜ê²½
### Tools
<img src="https://img.shields.io/badge/IntelliJ IDEA-black?style=for-the-badge&logo=IntelliJ IDEA&logoColor=white">&nbsp;
<img src="https://img.shields.io/badge/MySQL-black?style=for-the-badge&logo=MySQL#&logoColor=white">
<br>

### DBMS
<img src="https://img.shields.io/badge/MySQL-black?style=for-the-badge&logo=MySQL#&logoColor=white">&nbsp;
<br>

### Languages
<img src="https://img.shields.io/badge/Java11-black?style=for-the-badge&logo=Java11&logoColor=white">&nbsp;<img 
src="https://img.shields.io/badge/JavaScript-black?style=for-the-badge&logo=JavaScript&logoColor=white">
<br>

### Team Collaboration Tool
<img src="https://img.shields.io/badge/GitHub-black?style=for-the-badge&logo=GitHub&logoColor=white"><br>

<br>

[ëª©ì°¨ğŸ”º](#ëª©ì°¨)

<br><br>

# ğŸ‘•ì„¤ê³„
### íë¦„ë„
<br>
<img width="80%" src="https://user-images.githubusercontent.com/101784768/193979952-54059312-d5e4-4e25-8ec7-e233de2fc9d3.png"/>

<br>

### ERD
<br>
<img width="80%" height="700px" src="https://user-images.githubusercontent.com/101784768/193981651-56a1a411-4e99-457f-a6bc-23ef7afc3632.png"><br>

<br>

[ëª©ì°¨ğŸ”º](#ëª©ì°¨)

<br><br>

# ğŸ‘•í™”ë©´êµ¬ì„± ë° ê¸°ëŠ¥

<br>

[ëª©ì°¨ğŸ”º](#ëª©ì°¨)

<br><br>

# ğŸ‘•íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

<details>
<summary>1:1 ë¬¸ì˜ ì´ë¯¸ì§€ ë“±ë¡ ì‹œ ì´ë¯¸ì§€ ì €ì¥ ë° ë°›ì•„ì˜¤ëŠ” ê¸°ëŠ¥</summary>
<br>

```java
		// cs_uuid ë§Œë“œëŠ” ë¡œì§
		UUID uuid = UUID.randomUUID();
		String cs_uuid = uuid + "";

		// ë¬¸ì˜í•˜ê¸° ê°ì²´ ìƒì„±
		Cs cs = new Cs(email, cs_type, cs_title, cs_content, cs_uuid);

		// ì´ë¯¸ì§€ ì €ì¥ ì²˜ë¦¬
		// img_nameì€ UUID + ì‚¬ìš©ìê°€ ì €ì¥í•œ ì´ë¯¸ì§€ ì´ë¦„
		// img_fileì€ ì €ì¥ê²½ë¡œ
		String imgPath = "C:\\uploadImg\\";

		Map<String, Object> listMap = new HashMap<>();


		for(MultipartFile mf : cs_img){
			UUID uuid2 = UUID.randomUUID();
			String imgName = uuid2 + "_" + mf.getOriginalFilename();
			File saveImg = new File(imgPath, imgName);
			mf.transferTo(saveImg);

			int extra = imgName.lastIndexOf(".");

			String imgName_x = imgName.substring(0, extra);

			listMap.put("img_name", imgName_x);
			listMap.put("img_file", imgPath + imgName);
			listMap.put("cs_uuid", cs_uuid);
			System.out.println("mapì— ë“¤ì–´ê°€ëŠ”ì§€ ???? " + listMap);

			// ì„œë¹„ìŠ¤ ë‹¨ì— map ë„˜ê¸°ê¸°
			csService.imgSave(listMap);
		}
```
```java
  @GetMapping("/qna")
	public String qna( Model model, HttpSession session, RedirectAttributes rattr ) throws Exception {
		String email = (String)session.getAttribute("email");

		if( email == null ) {
			rattr.addFlashAttribute("qna_login", "not");

			return "redirect:/cs";
		}

		List<Cs> css = csService.selectCs(email);
		System.out.println("css = " + css);

		if( css != null ) {
			model.addAttribute("css", css);
		}

		List<String> cs_uuid = csService.selectUuid(email);
		System.out.println("cs_uuid = " + cs_uuid);

		List<CSImg> csImg = new ArrayList<>();

		for (int i=0; i<cs_uuid.size(); i++){
			List<CSImg> csImgList = new ArrayList<>();
			String idx = cs_uuid.get(i);
			System.out.println("ë””ë¹„ì—ì„œ ë°›ì•„ì˜¨ uuid : " + csService.selectCsImg(idx));
			csImgList = csService.selectCsImg(idx);
			for(int j=0; j<csImgList.size(); j++){
				csImg.add(csImgList.get(j));
			}
		}

		if( csImg.size() > 0  ) {
			System.out.println("ì´ê±°ì•¼?" + csImg.get(0).getImg_name());
			model.addAttribute("csImg", csImg);
		}

		return "questions";
	}
```
<br>

- ì´ë¯¸ì§€ë¥¼ ì„ì˜ì˜ ì»´í“¨í„° ê²½ë¡œì— ì €ì¥
- ëœë¤í•œ uuidì™€ ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œë¥¼ cs, cs_img í…Œì´ë¸”ì— ì €ì¥
- ê²Œì‹œíŒì—ì„œëŠ” ê° ë¬¸ì˜ê°€ ê³ ìœ í•œ uuidë¡œ ì €ì¥ë˜ê³ , í•´ë‹¹ ë¬¸ì˜ì˜ uuidì™€ ì¼ì¹˜í•˜ëŠ” ì´ë¯¸ì§€ ê²½ë¡œë¥¼ í…Œì´ë¸”ì—ì„œ ë°›ì•„ì™€ ì´ë¯¸ì§€ë¥¼ ë„ìš´ë‹¤. </br></br>  
---

</details>

<details>
<summary>íŠ¹ì • ê¸°ëŠ¥ ìˆ˜í–‰ í›„ í˜ì´ì§€ URL ë³€ê²½ìœ¼ë¡œ ì¸í•´ íƒ€ ê¸°ëŠ¥ë“¤ì´ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ</summary>
<br>

```java
    @RequestMapping(value="/findId", method = RequestMethod.POST)
    public String findId(User user, RedirectAttributes rattr, HttpServletRequest req) throws Exception {
        System.out.println("idì°¾ê¸° controller");
        String uri = req.getHeader("REFERER");

        String username = req.getParameter("find_email_name");
        String userphone = req.getParameter("find_email_tel");

        List<User> id = userService.findId(username, userphone);
        System.out.println("id = " + id);
        StringBuilder idList = new StringBuilder();

        if(id.size() == 0){
            rattr.addFlashAttribute("check", 1);
        } else {
            for( int i = 0; i < id.size(); i++ ) {
                idList.append(id.get(i).getEmail());
                idList.append(", ");
            }
            int lastEmail = idList.lastIndexOf(",");
            idList = new StringBuilder(idList.substring(0, lastEmail));
            rattr.addFlashAttribute("check", 2);
            rattr.addFlashAttribute("message","ì•„ì´ë””ëŠ” "+ idList +" ì…ë‹ˆë‹¤.");
        }
        return "redirect:"+uri;
    }
```
<br>

- id ì°¾ê¸° ê¸°ëŠ¥ì„ ì˜ˆì‹œë¡œ, id ì°¾ê¸° ìˆ˜í–‰ì‹œ ë©”ì¸í˜ì´ì§€ì—ì„œ Request urlì¸ "/findId" ë¡œ urlì´ ë³€ê²½ëœë‹¤.
- ì´ë•Œ, ê¸°ë³¸ì ì¸ ë¡œê·¸ì¸ ë° ì—¬ëŸ¬ í˜ì´ì§€ë¡œì˜ ì´ë™ì´ ë¶ˆê°€ëŠ¥í•˜ê²Œ ë¨
- ë”°ë¼ì„œ ë©”ì„œë“œì˜ returnë¬¸ì„ "redirect:" + uri ë¡œ ì„¤ì •í•˜ì—¬ ì´ì „í˜ì´ì§€ì˜ urlë¡œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ì—¬ ê°’ì„ ë°›ì•„ì˜¨ë‹¤. </br></br>
---

</details>

<details>
<summary>ID ì°¾ê¸° ê¸°ëŠ¥ì—ì„œ í•œ ëª…ì´ ë‘ ê°œì˜ ì´ë©”ì¼ì„ ë³´ìœ í•˜ê³  ìˆëŠ” ìƒí™©ì— ëŒ€í•œ ì²˜ë¦¬</summary>
<br>

```java
    @RequestMapping(value="/findId", method = RequestMethod.POST)
    public String findId(User user, RedirectAttributes rattr, HttpServletRequest req) throws Exception {
        System.out.println("idì°¾ê¸° controller");
        String uri = req.getHeader("REFERER");

        String username = req.getParameter("find_email_name");
        String userphone = req.getParameter("find_email_tel");

        List<User> id = userService.findId(username, userphone);
        System.out.println("id = " + id);
        StringBuilder idList = new StringBuilder();

        if(id.size() == 0){
            rattr.addFlashAttribute("check", 1);
        } else {
            for( int i = 0; i < id.size(); i++ ) {
                idList.append(id.get(i).getEmail());
                idList.append(", ");
            }
            int lastEmail = idList.lastIndexOf(",");
            idList = new StringBuilder(idList.substring(0, lastEmail));
            rattr.addFlashAttribute("check", 2);
            rattr.addFlashAttribute("message","ì•„ì´ë””ëŠ” "+ idList +" ì…ë‹ˆë‹¤.");
        }
        return "redirect:"+uri;
    }
```

```java
    @Override
    public List<User> findId(String name, String phone) throws Exception {
        System.out.println("idì°¾ê¸°Dao");
        Map map = new HashMap();
        map.put("name", name);
        map.put("phone",phone);

        return session.selectList(namespace + "findId", map);
    }
```
<br>

- ë™ì¼í•œ ì´ë¦„, ë™ì¼í•œ ì „í™”ë²ˆí˜¸ë¡œ íšŒì›ê°€ì…ì„ ë‘ ë²ˆ ì´ìƒ ì§„í–‰í•˜ì˜€ì„ ë•Œ, UserDao ë¶€ë¶„ì—ì„œ "selectOne" í•¨ìˆ˜ì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ë‹¤.
- í•´ë‹¹ í˜„ìƒì„ ëŒ€ì²˜í•˜ê¸° ìœ„í•´ UserDao ë¶€ë¶„ì—ì„œ "selectList" í•¨ìˆ˜ë¡œ ìˆ˜ì •í•˜ì˜€ê³ , Listë¡œ ë°›ì•„ì˜¨ ê°’ë“¤ì˜ email ë¶€ë¶„ë§Œ StringBuilderë¡œ ì„¤ì •í•˜ì—¬ ê¸°ëŠ¥ì„ ì§„í–‰í•˜ì˜€ë‹¤. </br></br>
---

</details>


<details>
<summary>ì›”ì •ì•¡ ê¸°ê°„ì´ ë§Œë£Œë˜ì—ˆì„ ë•Œ ì²˜ë¦¬ë˜ëŠ” ë¡œì§ êµ¬í˜„</summary>
<br>

```java
    int life_cnt = 0;
		int cleaning_cnt = 0;
		int free_cnt = 0;
		int m_price = 0;
		int extra_charge = 0;
		String card_type = null;
		String card_num = null;
		PayList payList = new PayList();

		LocalDateTime start_date = LocalDateTime.now().withNano(0);
		LocalDateTime new_end_date = start_date.plusMonths(1);
		Monthly monthly = null;

		for( int i = 0; i < monthlyPayList.size(); i++ ) {
			email = monthlyPayList.get(i).getEmail();
			end_date = monthlyPayList.get(i).getEnd_date();
			keep = monthlyPayList.get(i).getKeep();
			name = monthlyPayList.get(i).getM_name();
			m_price = monthlyPayList.get(i).getM_price();
			card_type = monthlyPayList.get(i).getCard_type();
			card_num = monthlyPayList.get(i).getCard_num();
			extra_charge = monthlyPayList.get(i).getExtra_charge();

			if(now.isAfter(end_date)) {
				if( keep == 1 ) {
					monthly = monthlyService.monthlyInfo(name);
					life_cnt = monthly.getLife();
					cleaning_cnt = monthly.getCleaning();
					free_cnt = monthly.getFree();
					payList.setEmail(email);
					payList.setM_name(name);
					payList.setM_price(m_price);
					payList.setExtra_charge(extra_charge);
					payList.setTotal_price(m_price+extra_charge);
					payList.setPay_date(start_date);
					payList.setCard_num(card_num);
					payList.setCard_type(card_type);
					monthlyService.new_monthlyListUpdate(email, life_cnt, cleaning_cnt, free_cnt, start_date, new_end_date);
					monthlyService.payListInsert(payList);
				} else if( keep == 0) {
					if (extra_charge > 0 ) {
						payList.setEmail(email);
						payList.setM_name(name);
						payList.setM_price(0);
						payList.setExtra_charge(extra_charge);
						payList.setTotal_price(extra_charge);
						payList.setPay_date(start_date);
						payList.setCard_num(card_num);
						payList.setCard_type(card_type);
						monthlyService.payListInsert(payList);
					}
					monthlyService.monthlyListDelete(email);
				}
			}
```
<br>

- ë©”ì¸í˜ì´ì§€ê°€ ë¡œë“œë  ë•Œ ì¼ê´„ì ìœ¼ë¡œ ê¸°ê°„ì´ ë§Œë£Œëœ ì›”ì •ì•¡ì„ íŒŒì•…í•œ í›„, ì²˜ë¦¬ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.
- ì›”ì •ì•¡ ê¸°ê°„ì´ ì¢…ë£Œë˜ì—ˆì„ ë•Œ, ì‚¬ìš©ìê°€ ì„¤ì •í•œ ì›”ì •ì•¡ì˜ ìœ ì§€ ë˜ëŠ” í•´ì§€ ìƒí™©ì„ ê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬í•˜ì˜€ë‹¤.
- ì›”ì •ì•¡ì„ ìœ ì§€í•˜ì˜€ì„ ë•Œ, ë™ì¼í•œ ì›”ì •ì•¡ì˜ ê¸°ê°„ì„ ì¬ì„¤ì •í•˜ê³ , ì¶”ê°€ ê¸ˆì•¡ì„ 0ìœ¼ë¡œ ë§Œë“  í›„ ê²°ì œë‚´ì—­ì— ê¸°ì¡´ ì›”ì •ì•¡ ê¸ˆì•¡ + ì¶”ê°€ê¸ˆì•¡ ë§Œí¼ì„ insert í•˜ì˜€ë‹¤.
- ë§ˆì°¬ê°€ì§€ë¡œ ì”ì—¬ ìƒí™œë¹¨ë˜, ê°œë³„í´ë¦¬ë‹, ë¬´ë£Œìˆ˜ê±°ì˜ ê°¯ìˆ˜ë¥¼ ì›”ì •ì•¡ ì´ˆê¸° íšŸìˆ˜ë¡œ ì¬ì„¤ì • í•˜ì˜€ë‹¤.
- ì›”ì •ì•¡ì„ í•´ì§€í•˜ì˜€ì„ ë•Œ, í•´ë‹¹ ì›”ì •ì•¡ì„ DBì—ì„œ ì‚­ì œí•˜ê³ , ì¶”ê°€ê¸ˆì•¡ ë§Œí¼ì„ ê²°ì œë‚´ì—­ì— insert í•˜ì˜€ë‹¤.
---

</details>

<details>
<summary>í”„ë¡œì íŠ¸ ì§„í–‰ê³¼ì •ì˜ ë¶„ì—…ê³¼ íš¨ìœ¨ì„±ì— ëŒ€í•œ ê³ ë¯¼</summary>
<br>

- ë„¤ ëª…ì˜ ì¸ì›ì´ ê°ê°ì˜ íŒŒíŠ¸ë¥¼ ë§¡ì•„ ê°œë°œì„ ì§„í–‰í•˜ì˜€ì„ ë•Œ, ì„œë¡œì˜ ê°œë°œ ì½”ë“œì— ëŒ€í•œ ì´í•´ë„ê°€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.
- ë°˜ëŒ€ë¡œ ë„¤ ëª…ì˜ ì¸ì›ì´ í•¨ê»˜ ëª¨ë“  íŒŒíŠ¸ë¥¼ êµ¬í˜„í•˜ê¸°ì—ëŠ” ì‹œê°„ì ìœ¼ë¡œ íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§„ë‹¤ëŠ” íŒë‹¨ì„ í•˜ì˜€ë‹¤.
- ë”°ë¼ì„œ í”„ë¡œì íŠ¸ íŒŒíŠ¸ë¥¼ ë‘ê°œë¡œ ë‚˜ëˆ  í•¨ê»˜ êµ¬í˜„í•¨ìœ¼ë¡œì¨ íš¨ìœ¨ì„±ê³¼ ì›í™œí•œ ê°œë°œì½”ë“œ ê³µìœ ë¥¼ ë„ëª¨í•˜ì˜€ë‹¤. </br></br>
---

</details>

<details>
<summary>ì§€ì†ì ì¸ DBì˜ ìˆ˜ì • ë° FKê°’ ì„¤ì • ë¬¸ì œ</summary>
<br>

- í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•¨ì— ìˆì–´ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë˜ëŠ” DBê°€ ì¡´ì¬í•˜ì˜€ë‹¤.
- í•´ë‹¹ DBì™€ ê´€ë ¨ëœ controller ê°œë°œì„ ì¤‘ì‹¬ìœ¼ë¡œ ì´ì™¸ì˜ ê¸°ëŠ¥ë“¤ê¹Œì§€ ê³ ë ¤í•˜ì—¬ DB ì¶”ê°€ ë˜ëŠ” ì‚­ì œ, ìˆ˜ì •ì„ ì§„í–‰í•˜ì˜€ë‹¤.
- FKê°’ì— ë”°ë¼ íšŒì›ì •ë³´ ì‚­ì œ, ì›”ì •ì•¡ êµ¬ë§¤ë‚´ì—­ ì‚­ì œ ë“± ê¸°ëŠ¥ì´ ìˆ˜í–‰ë˜ì§€ ì•ŠëŠ” í˜„ìƒì´ ë°œìƒí•˜ì˜€ë‹¤.
- ë…¼ì˜ë¥¼ ê±°ì³ ë¶ˆí•„ìš”í•œ FKê°’ì„ ì‚­ì œí•˜ê±°ë‚˜, CASCADE ë° RESTRICT ì˜µì…˜ì„ ì„¤ì •í•˜ì—¬ ì›í™œí•œ ê¸°ëŠ¥ êµ¬í˜„ì„ ì„±ê³µí•˜ì˜€ë‹¤. </br></br>
---

</details>



<br>

[ëª©ì°¨ğŸ”º](#ëª©ì°¨)
